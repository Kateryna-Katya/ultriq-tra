{"version":3,"file":"main-BgL9vDLs.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * ORION SPARKX — Official Engine 2026\n * Чистый JS для высокой производительности\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. НАВИГАЦИЯ И МОБИЛЬНОЕ МЕНЮ ---\n  const header = document.querySelector('.header');\n  const burger = document.getElementById('burger');\n  const mobileMenu = document.getElementById('mobile-menu');\n  const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n  const toggleMenu = () => {\n      burger.classList.toggle('burger--active');\n      mobileMenu.classList.toggle('mobile-menu--open');\n      // Блокируем скролл при открытом меню\n      document.body.style.overflow = mobileMenu.classList.contains('mobile-menu--open') ? 'hidden' : '';\n  };\n\n  if (burger) {\n      burger.addEventListener('click', toggleMenu);\n  }\n\n  mobileLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          if (mobileMenu.classList.contains('mobile-menu--open')) toggleMenu();\n      });\n  });\n\n  // Изменение хедера при скролле\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 50) {\n          header.classList.add('header--scrolled');\n      } else {\n          header.classList.remove('header--scrolled');\n      }\n  });\n\n\n  // --- 2. АНИМАЦИЯ ПОЯВЛЕНИЯ (SCROLL REVEAL) ---\n  const revealElements = document.querySelectorAll('.reveal');\n\n  const revealObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n          if (entry.isIntersecting) {\n              entry.target.classList.add('reveal--active');\n              // После активации можно прекратить наблюдение за элементом\n              revealObserver.unobserve(entry.target);\n          }\n      });\n  }, {\n      threshold: 0.15 // Элемент появится, когда 15% его площади будет в кадре\n  });\n\n  revealElements.forEach(el => revealObserver.observe(el));\n\n\n  // --- 3. ИНТЕРАКТИВ HERO-СЕКЦИИ (PARALLAX) ---\n  const hero = document.querySelector('.hero');\n  const heroVisual = document.querySelector('.hero__visual');\n\n  if (hero && heroVisual && window.innerWidth > 1024) {\n      hero.addEventListener('mousemove', (e) => {\n          const x = (window.innerWidth / 2 - e.pageX) / 45;\n          const y = (window.innerHeight / 2 - e.pageY) / 45;\n          heroVisual.style.transform = `translateX(${x}px) translateY(${y}px)`;\n      });\n  }\n\n\n  // --- 4. ПЛАВНЫЙ СКРОЛЛ ПО ЯКОРЯМ ---\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n      anchor.addEventListener('click', function (e) {\n          const targetId = this.getAttribute('href');\n          if (targetId === '#') return;\n\n          e.preventDefault();\n          const targetElement = document.querySelector(targetId);\n\n          if (targetElement) {\n              const headerOffset = 80;\n              const elementPosition = targetElement.getBoundingClientRect().top;\n              const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\n\n              window.scrollTo({\n                  top: offsetPosition,\n                  behavior: 'smooth'\n              });\n          }\n      });\n  });\n\n\n  // --- 5. КОНТАКТНАЯ ФОРМА И КАПЧА ---\n  const contactForm = document.getElementById('main-form');\n  if (contactForm) {\n      const phoneInput = document.getElementById('phone-input');\n      const captchaQuestion = document.getElementById('captcha-question');\n      const captchaInput = document.getElementById('captcha-answer');\n      let captchaResult;\n\n      // Генерация простого математического примера\n      const generateCaptcha = () => {\n          const a = Math.floor(Math.random() * 10) + 1;\n          const b = Math.floor(Math.random() * 10) + 1;\n          captchaResult = a + b;\n          captchaQuestion.textContent = `${a} + ${b}`;\n      };\n\n      generateCaptcha();\n\n      // Валидация телефона (только цифры)\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/[^0-9]/g, '');\n      });\n\n      // Обработка отправки (Mock AJAX)\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          const successMsg = document.getElementById('form-success');\n          const errorMsg = document.getElementById('form-error');\n          const submitBtn = document.getElementById('submit-btn');\n\n          // Сброс сообщений\n          successMsg.style.display = 'none';\n          errorMsg.style.display = 'none';\n\n          // Проверка капчи\n          if (parseInt(captchaInput.value) !== captchaResult) {\n              errorMsg.textContent = 'Неверный ответ на капчу. Попробуйте еще раз.';\n              errorMsg.style.display = 'block';\n              generateCaptcha();\n              captchaInput.value = '';\n              return;\n          }\n\n          // Имитация загрузки\n          const originalBtnText = submitBtn.innerHTML;\n          submitBtn.disabled = true;\n          submitBtn.innerHTML = '<span>Отправка...</span>';\n\n          setTimeout(() => {\n              // Скрываем форму, показываем успех\n              submitBtn.style.display = 'none';\n              successMsg.style.display = 'block';\n              contactForm.reset();\n              console.log(\"Данные формы отправлены успешно (имитация)\");\n          }, 1800);\n      });\n  }\n\n\n  // --- 6. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookie-popup');\n  const cookieAccept = document.getElementById('cookie-accept');\n\n  if (cookiePopup && cookieAccept) {\n      // Проверяем, было ли уже дано согласие\n      if (!localStorage.getItem('orion_cookies_accepted')) {\n          setTimeout(() => {\n              cookiePopup.classList.add('cookie-popup--show');\n          }, 3000);\n      }\n\n      cookieAccept.addEventListener('click', () => {\n          localStorage.setItem('orion_cookies_accepted', 'true');\n          cookiePopup.classList.remove('cookie-popup--show');\n      });\n  }\n\n});"],"names":["header","burger","mobileMenu","mobileLinks","toggleMenu","link","revealElements","revealObserver","entries","entry","el","hero","heroVisual","e","x","y","anchor","targetId","targetElement","offsetPosition","contactForm","phoneInput","captchaQuestion","captchaInput","captchaResult","generateCaptcha","a","b","successMsg","errorMsg","submitBtn","cookiePopup","cookieAccept"],"mappings":"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"}